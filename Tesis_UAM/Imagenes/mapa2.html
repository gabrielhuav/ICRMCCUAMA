<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Mental: Estrategias Tecnológicas (Interactivo)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #6a11cb 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            overflow: hidden;
        }

        .mindmap-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            padding: 25px;
            width: 100%;
            height: 100%;
            max-width: 1600px;
            max-height: 900px;
            position: relative;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 15px;
            z-index: 10;
            position: relative;
        }

        .header h1 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .header .subtitle {
            font-size: 14px;
            color: #7f8c8d;
        }

        .mindmap-content {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* SVG para las líneas conectivas */
        .connections-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .connection-line {
            stroke: #bdc3c7;
            stroke-width: 3;
            fill: none;
            opacity: 0.7;
            stroke-dasharray: 5,5;
            animation: dashFlow 2s linear infinite;
        }

        @keyframes dashFlow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: 20; }
        }

        /* Nodo central */
        .central-node {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 30px;
            border-radius: 50px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            z-index: 5;
            min-width: 280px;
            border: 4px solid white;
        }

        /* Contenedor de ramas principales */
        .branches-layout {
            position: relative;
            width: 100%;
            height: 100%;
        }

        /* Ramas principales */
        .main-branch {
            position: absolute;
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
            border-left: 5px solid;
            transition: all 0.3s ease;
            z-index: 3;
            width: 260px;
            cursor: move; /* Cambio el cursor para indicar que es arrastrable */
            user-select: none; /* Evita selección de texto durante el arrastre */
        }

        .main-branch:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
            z-index: 4;
        }

        .main-branch.dragging {
            transform: scale(1.1);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            z-index: 6;
            opacity: 0.9;
        }

        .main-branch h3 {
            font-size: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            line-height: 1.3;
        }

        .main-branch ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .main-branch li {
            margin-bottom: 6px;
            padding-left: 12px;
            position: relative;
            line-height: 1.4;
            font-size: 11px;
        }

        .main-branch li:last-child {
            margin-bottom: 0;
        }

        .main-branch li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: inherit;
            font-weight: bold;
            font-size: 10px;
        }

        .main-branch strong {
            font-size: 11px;
            font-weight: 600;
        }

        .icon {
            width: 16px;
            height: 16px;
            display: inline-block;
        }

        /* Posicionamiento inicial (ahora las ramas son movibles) */
        .branch-1 { top: 2%; left: 8%; }      /* PLN */
        .branch-2 { top: 2%; right: 8%; }     /* Aprendizaje */
        .branch-3 { top: 25%; left: 1%; }     /* Optimización */
        .branch-4 { top: 25%; right: 1%; }    /* Multimodal */
        .branch-5 { bottom: 25%; left: 1%; }  /* Infraestructura */
        .branch-6 { bottom: 25%; right: 1%; } /* Seguridad */
        .branch-7 { bottom: 2%; left: 8%; }   /* Evaluación */
        .branch-8 { bottom: 2%; right: 8%; }  /* Integración */

        /* Colores específicos para cada rama */
        .procesamiento { border-left-color: #3498db; }
        .procesamiento h3, .procesamiento li:before { color: #3498db; }

        .aprendizaje { border-left-color: #2ecc71; }
        .aprendizaje h3, .aprendizaje li:before { color: #2ecc71; }

        .optimizacion { border-left-color: #e67e22; }
        .optimizacion h3, .optimizacion li:before { color: #e67e22; }

        .multimodal { border-left-color: #9b59b6; }
        .multimodal h3, .multimodal li:before { color: #9b59b6; }

        .evaluacion { border-left-color: #f39c12; }
        .evaluacion h3, .evaluacion li:before { color: #f39c12; }

        .infraestructura { border-left-color: #1abc9c; }
        .infraestructura h3, .infraestructura li:before { color: #1abc9c; }

        .seguridad { border-left-color: #e74c3c; }
        .seguridad h3, .seguridad li:before { color: #e74c3c; }

        .integracion { border-left-color: #34495e; }
        .integracion h3, .integracion li:before { color: #34495e; }

        .footer {
            text-align: center;
            margin-top: 10px;
            font-size: 10px;
            color: #2c3e50;
            padding: 8px;
            background: rgba(52, 73, 94, 0.05);
            border-radius: 8px;
            line-height: 1.3;
            z-index: 10;
            position: relative;
        }

        .footer .title {
            font-weight: 600;
            font-size: 11px;
            color: #34495e;
            margin-bottom: 3px;
        }

        .footer .author {
            font-weight: 500;
            color: #7f8c8d;
            font-size: 10px;
        }

        /* Animaciones de entrada */
        .main-branch {
            animation: branchAppear 0.8s ease forwards;
            opacity: 0;
            transform: scale(0.3);
        }

        .main-branch.branch-1 { animation-delay: 0.1s; }
        .main-branch.branch-2 { animation-delay: 0.2s; }
        .main-branch.branch-3 { animation-delay: 0.3s; }
        .main-branch.branch-4 { animation-delay: 0.4s; }
        .main-branch.branch-5 { animation-delay: 0.5s; }
        .main-branch.branch-6 { animation-delay: 0.6s; }
        .main-branch.branch-7 { animation-delay: 0.7s; }
        .main-branch.branch-8 { animation-delay: 0.8s; }

        @keyframes branchAppear {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .central-node {
            animation: centralPulse 2s ease-in-out infinite;
        }

        @keyframes centralPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.02); }
        }

        /* Botón para guardar posiciones */
        .save-positions-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            z-index: 10;
        }

        .save-positions-btn:hover {
            background: #2980b9;
        }

        /* Indicador de instrucciones */
        .instructions {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(52, 73, 94, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 11px;
            z-index: 10;
        }

        /* Responsive optimizado */
        @media (max-width: 1400px) {
            .main-branch {
                width: 240px;
                padding: 12px;
            }
            
            .central-node {
                min-width: 240px;
                padding: 15px 25px;
                font-size: 16px;
            }
        }

        @media (max-width: 1200px) {
            .main-branch {
                width: 220px;
                padding: 10px;
            }
            
            .main-branch h3 {
                font-size: 13px;
            }
            
            .main-branch li {
                font-size: 10px;
            }
            
            .central-node {
                min-width: 220px;
                padding: 12px 20px;
                font-size: 14px;
            }
        }

        @media (max-width: 900px) {
            .main-branch {
                width: 180px;
                padding: 8px;
            }
            
            .main-branch h3 {
                font-size: 12px;
            }
            
            .main-branch li {
                font-size: 9px;
            }
            
            .central-node {
                min-width: 180px;
                padding: 10px 15px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="mindmap-container">
        <div class="instructions">
            💡 Arrastra las ramas para reorganizar el mapa
        </div>
        
        <button class="save-positions-btn" onclick="savePositions()">
            💾 Guardar Posiciones
        </button>
        
        <div class="header">
            <h1>Estrategias Tecnológicas para la Detección</h1>
            <p class="subtitle">Noticias Falsas y Fraude Digital: Enfoques Computacionales Avanzados</p>
        </div>
        
        <div class="mindmap-content">
            <!-- SVG para líneas conectivas que se actualizarán dinámicamente -->
            <svg class="connections-svg" id="connectionsSvg">
                <!-- Las líneas se dibujarán dinámicamente con JavaScript -->
            </svg>

            <div class="branches-layout">
                <!-- Nodo central -->
                <div class="central-node" id="centralNode">
                    🚀 ESTRATEGIAS<br>TECNOLÓGICAS
                </div>

                <!-- Ramas principales con funcionalidad de arrastre -->
                <div class="main-branch procesamiento branch-1" data-branch="1">
                    <h3>
                        <span class="icon">🔤</span>
                        Procesamiento de Lenguaje Natural
                    </h3>
                    <ul>
                        <li><strong>Preprocesamiento:</strong> Tokenización, lemmatización</li>
                        <li><strong>Representaciones:</strong> TF-IDF, Word2Vec</li>
                        <li><strong>Análisis Sintáctico:</strong> POS tagging</li>
                        <li><strong>Análisis Semántico:</strong> NER, sentiment</li>
                        <li><strong>Estilométrico:</strong> Patrones de escritura</li>
                        <li>N-gramas y características lingüísticas</li>
                    </ul>
                </div>

                <div class="main-branch aprendizaje branch-2" data-branch="2">
                    <h3>
                        <span class="icon">🧠</span>
                        Aprendizaje Automático
                    </h3>
                    <ul>
                        <li><strong>Clásicos:</strong> SVM, Random Forest</li>
                        <li><strong>Deep Learning:</strong> CNNs, RNNs, LSTMs</li>
                        <li><strong>Transformers:</strong> BERT, RoBERTa</li>
                        <li><strong>LLMs:</strong> GPT, LLaMA, Gemini</li>
                        <li><strong>Ensemble:</strong> Bagging, boosting</li>
                        <li>Transfer learning y fine-tuning</li>
                    </ul>
                </div>

                <div class="main-branch optimizacion branch-3" data-branch="3">
                    <h3>
                        <span class="icon">⚙️</span>
                        Optimización Metaheurística
                    </h3>
                    <ul>
                        <li><strong>Algoritmos Genéticos:</strong> Evolución</li>
                        <li><strong>PSO:</strong> Enjambre de partículas</li>
                        <li><strong>Recocido Simulado:</strong> Escape óptimos</li>
                        <li><strong>VNS:</strong> Vecindades variables</li>
                        <li><strong>Búsqueda Dispersa:</strong> Combinaciones</li>
                        <li>Calibración de hiperparámetros</li>
                    </ul>
                </div>

                <div class="main-branch multimodal branch-4" data-branch="4">
                    <h3>
                        <span class="icon">🎭</span>
                        Análisis Multimodal
                    </h3>
                    <ul>
                        <li><strong>Imágenes:</strong> CNN, deepfakes</li>
                        <li><strong>Audio:</strong> Voz sintética</li>
                        <li><strong>Video:</strong> Manipulación temporal</li>
                        <li><strong>Fusión:</strong> Early/late fusion</li>
                        <li><strong>Metadatos:</strong> EXIF, timestamps</li>
                        <li>Cross-modal attention mechanisms</li>
                    </ul>
                </div>

                <div class="main-branch infraestructura branch-5" data-branch="5">
                    <h3>
                        <span class="icon">☁️</span>
                        Infraestructura Tecnológica
                    </h3>
                    <ul>
                        <li><strong>Cloud:</strong> AWS, Azure, GCP</li>
                        <li><strong>Contenedores:</strong> Docker, Kubernetes</li>
                        <li><strong>GPU:</strong> CUDA, cuDNN</li>
                        <li><strong>MLOps:</strong> MLflow, Kubeflow</li>
                        <li><strong>Pipelines:</strong> Spark, Kafka</li>
                        <li>Escalabilidad horizontal/vertical</li>
                    </ul>
                </div>

                <div class="main-branch seguridad branch-6" data-branch="6">
                    <h3>
                        <span class="icon">🔐</span>
                        Seguridad y Robustez
                    </h3>
                    <ul>
                        <li><strong>Ataques:</strong> FGSM, PGD, C&W</li>
                        <li><strong>Defensa:</strong> Adversarial training</li>
                        <li><strong>Privacidad:</strong> Differential privacy</li>
                        <li><strong>Explicabilidad:</strong> LIME, SHAP</li>
                        <li><strong>Anomalías:</strong> Isolation Forest</li>
                        <li>Auditorías de sesgo algorítmico</li>
                    </ul>
                </div>

                <div class="main-branch evaluacion branch-7" data-branch="7">
                    <h3>
                        <span class="icon">📊</span>
                        Evaluación y Métricas
                    </h3>
                    <ul>
                        <li><strong>Clásicas:</strong> Precision, Recall, F1</li>
                        <li><strong>Avanzadas:</strong> AUC-ROC, MCC</li>
                        <li><strong>Validación:</strong> Cross-validation</li>
                        <li><strong>Benchmarking:</strong> Datasets estándar</li>
                        <li><strong>A/B Testing:</strong> Producción</li>
                        <li>Análisis de fairness y sesgo</li>
                    </ul>
                </div>

                <div class="main-branch integracion branch-8" data-branch="8">
                    <h3>
                        <span class="icon">🔗</span>
                        Integración y Despliegue
                    </h3>
                    <ul>
                        <li><strong>APIs:</strong> REST, microservicios</li>
                        <li><strong>Tiempo Real:</strong> Stream processing</li>
                        <li><strong>Interfaces:</strong> Web, mobile, plugins</li>
                        <li><strong>Monitoreo:</strong> Logging, alertas</li>
                        <li><strong>CI/CD:</strong> Jenkins, GitHub Actions</li>
                        <li>Sistemas de alerta temprana</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="title">Calibración de Hiper-Parámetros en Algoritmos Metaheurísticos y Modelos de Lenguaje para la Detección de Noticias Falsas</div>
            <div class="author">Gabriel Hurtado Avilés • Universidad Autónoma Metropolitana Azcapotzalco</div>
        </div>
    </div>

    <script>
        // Variables para el sistema de arrastre
        let isDragging = false;
        let currentElement = null;
        let startX, startY, elementX, elementY;

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            initializeDragAndDrop();
            loadSavedPositions();
            updateConnections();
        });

        function initializeDragAndDrop() {
            const branches = document.querySelectorAll('.main-branch');
            
            branches.forEach(branch => {
                branch.addEventListener('mousedown', startDrag);
                branch.addEventListener('touchstart', startDrag, { passive: false });
            });

            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('mouseup', endDrag);
            document.addEventListener('touchend', endDrag);
        }

        function startDrag(e) {
            e.preventDefault();
            isDragging = true;
            currentElement = e.currentTarget;
            currentElement.classList.add('dragging');

            const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

            startX = clientX;
            startY = clientY;

            const rect = currentElement.getBoundingClientRect();
            const containerRect = currentElement.parentElement.getBoundingClientRect();
            
            elementX = rect.left - containerRect.left;
            elementY = rect.top - containerRect.top;
        }

        function drag(e) {
            if (!isDragging || !currentElement) return;
            
            e.preventDefault();
            
            const clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;

            const deltaX = clientX - startX;
            const deltaY = clientY - startY;

            const newX = elementX + deltaX;
            const newY = elementY + deltaY;

            // Limitar el movimiento dentro del contenedor
            const container = currentElement.parentElement;
            const containerRect = container.getBoundingClientRect();
            const elementRect = currentElement.getBoundingClientRect();

            const maxX = containerRect.width - elementRect.width;
            const maxY = containerRect.height - elementRect.height;

            const constrainedX = Math.max(0, Math.min(newX, maxX));
            const constrainedY = Math.max(0, Math.min(newY, maxY));

            currentElement.style.left = constrainedX + 'px';
            currentElement.style.top = constrainedY + 'px';
            currentElement.style.right = 'auto';
            currentElement.style.bottom = 'auto';

            // Actualizar las líneas de conexión en tiempo real
            updateConnections();
        }

        function endDrag() {
            if (currentElement) {
                currentElement.classList.remove('dragging');
                currentElement = null;
            }
            isDragging = false;
        }

        function updateConnections() {
            const svg = document.getElementById('connectionsSvg');
            const centralNode = document.getElementById('centralNode');
            const branches = document.querySelectorAll('.main-branch');
            
            // Limpiar líneas existentes
            svg.innerHTML = '';

            // Obtener el centro del nodo central
            const centralRect = centralNode.getBoundingClientRect();
            const containerRect = svg.getBoundingClientRect();
            
            const centralX = (centralRect.left + centralRect.width / 2 - containerRect.left) / containerRect.width * 100;
            const centralY = (centralRect.top + centralRect.height / 2 - containerRect.top) / containerRect.height * 100;

            // Colores para cada rama
            const colors = ['#3498db', '#2ecc71', '#e67e22', '#9b59b6', '#1abc9c', '#e74c3c', '#f39c12', '#34495e'];

            branches.forEach((branch, index) => {
                const branchRect = branch.getBoundingClientRect();
                const branchX = (branchRect.left + branchRect.width / 2 - containerRect.left) / containerRect.width * 100;
                const branchY = (branchRect.top + branchRect.height / 2 - containerRect.top) / containerRect.height * 100;

                // Crear línea SVG
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('class', 'connection-line');
                line.setAttribute('x1', centralX + '%');
                line.setAttribute('y1', centralY + '%');
                line.setAttribute('x2', branchX + '%');
                line.setAttribute('y2', branchY + '%');
                line.setAttribute('stroke', colors[index]);

                svg.appendChild(line);
            });
        }

        function savePositions() {
            const positions = {};
            const branches = document.querySelectorAll('.main-branch');
            
            branches.forEach(branch => {
                const branchId = branch.getAttribute('data-branch');
                const rect = branch.getBoundingClientRect();
                const containerRect = branch.parentElement.getBoundingClientRect();
                
                positions[branchId] = {
                    x: rect.left - containerRect.left,
                    y: rect.top - containerRect.top
                };
            });

            localStorage.setItem('mindmapPositions', JSON.stringify(positions));
            
            // Mostrar confirmación
            const btn = document.querySelector('.save-positions-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = '✅ Guardado';
            btn.style.background = '#27ae60';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '#3498db';
            }, 2000);
        }

        function loadSavedPositions() {
            const savedPositions = localStorage.getItem('mindmapPositions');
            if (!savedPositions) return;

            const positions = JSON.parse(savedPositions);
            const branches = document.querySelectorAll('.main-branch');

            branches.forEach(branch => {
                const branchId = branch.getAttribute('data-branch');
                if (positions[branchId]) {
                    branch.style.left = positions[branchId].x + 'px';
                    branch.style.top = positions[branchId].y + 'px';
                    branch.style.right = 'auto';
                    branch.style.bottom = 'auto';
                }
            });
        }

        // Actualizar conexiones cuando se redimensiona la ventana
        window.addEventListener('resize', updateConnections);
    </script>
</body>
</html>